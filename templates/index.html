<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <title>EasyEarn - Your Path to Flexible Work</title>
  <!-- 1. Load the CSS file -->
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
  <!-- 2. Load the client-side script (deferred) -->
  <script src="{{ url_for('static', filename='js/form.js') }}" defer></script>
  <style>
    /* Add these styles to override the existing ones for mobile menu.
       No change to .header position—keep it fixed.
       Using !important to ensure overrides on display and other properties. 
       Breakpoint matches your CSS: 768px. */

    .hamburger {
      display: none; /* Hidden on desktop */
      flex-direction: column;
      justify-content: space-around;
      width: 30px;
      height: 25px;
      background: transparent;
      border: none;
      cursor: pointer;
      padding: 0;
      position: absolute;
      top: 50%;
      right: 20px;
      transform: translateY(-50%);
      z-index: 10;
    }

    .hamburger .bar {
      width: 100%;
      height: 3px;
      background-color: var(--text-medium); /* Match your text color */
      transition: all 0.3s ease;
    }

    /* Make all menu text bold */
    .main-nav a {
      font-weight: 700 !important; /* Bold for standout feel; overrides existing 500 */
    }

    /* Mobile-specific styles: Override existing mobile styles */
    @media (max-width: 768px) {
      .hamburger {
        display: flex !important; /* Force show on mobile */
      }

      .header {
        position: fixed !important; /* Ensure it stays fixed */
        justify-content: flex-start !important; /* Align logo left, hamburger right */
      }

      .main-nav {
        width: auto !important; /* Don't force full width yet */
      }

      .main-nav ul {
        display: none !important; /* Hide by default on mobile */
        flex-direction: column !important;
        position: absolute !important;
        top: 100% !important; /* Directly below header */
        right: 0 !important;
        background-color: var(--card-bg) !important;
        width: 200px !important; /* Fixed width dropdown; adjust if needed */
        box-shadow: var(--card-shadow-hover) !important;
        padding: 10px !important;
        z-index: 9 !important;
        margin: 0 !important;
        border-radius: var(--border-radius-sm) !important;
      }

      .main-nav ul.active {
        display: flex !important; /* Show when toggled */
      }

      .main-nav ul li {
        margin: 10px 0 !important;
        width: auto !important;
        text-align: center !important; /* Centered text */
      }

      .main-nav a {
        display: block !important;
        text-align: center !important; /* Centered text */
        padding: 8px 12px !important;
      }

      .main-nav a.button-accent {
        margin-left: 0 !important;
        margin-top: 0 !important;
        width: auto !important;
        text-align: center !important;
      }

      /* Hamburger animation */
      .hamburger.active .bar:nth-child(1) {
        transform: rotate(45deg) translate(5px, 5px);
      }

      .hamburger.active .bar:nth-child(2) {
        opacity: 0;
      }

      .hamburger.active .bar:nth-child(3) {
        transform: rotate(-45deg) translate(7px, -6px);
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <header class="header">
      <a href="#hero-section" class="logo-link">
        <div class="logo-section">
            <img src="{{ url_for('static', filename='images/logo.png') }}" alt="EasyEarn Logo" class="logo">
            <h1>EasyEarn</h1> <!-- Added 'EasyEarn' text next to the logo -->
        </div>
      </a>
      <nav class="main-nav">
        <ul>
          <li><a href="#latest-jobs">Jobs</a></li>
          <li><a href="#why-choose-us">Why Us?</a></li>
          <li><a href="#about-us">About Us</a></li>
          <li><a href="#user-testimonials">Testimonials</a></li>
          <li><a href="#hero-section" class="button button-accent">Let's Talk</a></li>
        </ul>
      </nav>
      <!-- Hamburger button for mobile only -->
      <button class="hamburger" id="hamburger">
        <span class="bar"></span>
        <span class="bar"></span>
        <span class="bar"></span>
      </button>
    </header>
    <!-- ======== HERO ======== -->
    <section id="hero-section" class="hero-section">
      <div class="hero-left">
        <h2>Discover online jobs that work for you.</h2>
        <p>With EasyEarn, you set the schedule. Find trusted remote roles and get paid on time — all from home.</p>
      </div>
      <div class="hero-right">
        <div class="card form-card">
          <h3>Let's Talk</h3>
          <p class="tagline">Tell us about you. We'll match you with roles that fit your skills.</p>
          <form id="leadForm">
            <div class="form-group">
              <input type="text" id="fullName" name="fullName" placeholder="Your Name" required>
            </div>
            <div class="form-group">
              <input type="email" id="email" name="email" placeholder="Email" required>
            </div>
            <div class="form-group">
              <input type="text" id="whatsapp" name="whatsapp" placeholder="WhatsApp Number" required>
            </div>
            <div class="form-group">
              <select id="state" name="state" required>
                <option value="">Location</option>
                {% for state in states %}
                  <option value="{{ state }}">{{ state }}</option>
                {% endfor %}
              </select>
            </div>
            <div class="form-group">
              <select id="interestedJob" name="interestedJob" required>
                <option value="">Interested Job</option>
                {% for job in jobs %}
                  <option value="{{ job }}">{{ job }}</option>
                {% endfor %}
              </select>
            </div>
            <div class="form-group">
              <select id="availability" name="availability" required>
                <option value="">Availability</option>
                {% for avail in availabilities %}
                  <option value="{{ avail }}">{{ avail }}</option>
                {% endfor %}
              </select>
            </div>
            <button type="submit">Let's Talk</button>
            <div id="formStatus" class="form-status"></div>
          </form>
        </div>
      </div>
    </section>
    <!-- ======== LATEST JOBS ======== -->
    <section id="latest-jobs" class="card">
      <h2>Latest Jobs</h2>
      {% for job in latest_jobs %}
        <div class="job-item bounce-animation">
          <h3>{{ job.title }}</h3>
          <p>{{ job.description }}</p>
        </div>
      {% endfor %}
    </section>
    <!-- ======== WHY CHOOSE US ======== -->
    <section id="why-choose-us" class="card">
      <h2>Why Choose EasyEarn?</h2>
      {% for adv in advantages %}
        <div class="advantage-item bounce-animation">
          <h3>{{ adv.title }}</h3>
          <p>{{ adv.description }}</p>
        </div>
      {% endfor %}
    </section>
    <!-- ======== ABOUT US ======== -->
    <section id="about-us" class="card">
      <h2>About Us</h2>
      <p>{{ about_text }}</p>
    </section>
    <!-- ======== TESTIMONIALS ======== -->
    <section id="user-testimonials" class="card">
      <h2>What Our Users Say</h2>
      {% for t in testimonials %}
        <div class="testimonial-item">
          <p>"{{ t.quote }}"</p>
          <p class="testimonial-author">- {{ t.author }}</p>
        </div>
      {% endfor %}
    </section>
    <footer>
      <p>© {{ current_year }} EasyEarn. All rights reserved.</p>
    </footer>
  </div>
  <!-- JavaScript for toggling the menu -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const hamburger = document.getElementById('hamburger');
      const navUl = document.querySelector('.main-nav ul');

      if (hamburger && navUl) {
        hamburger.addEventListener('click', function(event) {
          event.stopPropagation(); // Prevent closing immediately
          this.classList.toggle('active');
          navUl.classList.toggle('active');
        });

        // Close menu when clicking outside
        document.addEventListener('click', function(event) {
          if (!hamburger.contains(event.target) && !navUl.contains(event.target)) {
            hamburger.classList.remove('active');
            navUl.classList.remove('active');
          }
        });
      }
    });
  </script>
</body>
</html>